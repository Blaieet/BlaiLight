var A=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],p=t=>{let e=0;for(let r=0;r<t.length;r++){let o=t[r],n=A.indexOf(o);e=e*83+n}return e},M=t=>{let e=t/255;return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},w=t=>{let e=Math.max(0,Math.min(1,t));return e<=.0031308?Math.trunc(e*12.92*255+.5):Math.trunc((1.055*Math.pow(e,.4166666666666667)-.055)*255+.5)},$=t=>t<0?-1:1,E=(t,e)=>$(t)*Math.pow(Math.abs(t),e),S=class extends Error{constructor(t){super(t),this.name="ValidationError",this.message=t}},B=t=>{if(!t||t.length<6)throw new S("The blurhash string must be at least 6 characters");let e=p(t[0]),r=Math.floor(e/9)+1,o=e%9+1;if(t.length!==4+2*o*r)throw new S(`blurhash length mismatch: length is ${t.length} but it should be ${4+2*o*r}`)},L=t=>{let e=t>>16,r=t>>8&255,o=t&255;return[M(e),M(r),M(o)]},V=(t,e)=>{let r=Math.floor(t/361),o=Math.floor(t/19)%19,n=t%19;return[E((r-9)/9,2)*e,E((o-9)/9,2)*e,E((n-9)/9,2)*e]},D=(t,e,r,o)=>{B(t),o=o|1;let n=p(t[0]),c=Math.floor(n/9)+1,m=n%9+1,P=(p(t[1])+1)/166,h=new Array(m*c);for(let a=0;a<h.length;a++)if(a===0){let s=p(t.substring(2,6));h[a]=L(s)}else{let s=p(t.substring(4+a*2,6+a*2));h[a]=V(s,P*o)}let i=e*4,g=new Uint8ClampedArray(i*r);for(let a=0;a<r;a++)for(let s=0;s<e;s++){let v=0,C=0,H=0;for(let u=0;u<c;u++)for(let d=0;d<m;d++){let b=Math.cos(Math.PI*s*d/e)*Math.cos(Math.PI*a*u/r),f=h[d+u*m];v+=f[0]*b,C+=f[1]*b,H+=f[2]*b}let T=w(v),I=w(C),k=w(H);g[4*s+0+a*i]=T,g[4*s+1+a*i]=I,g[4*s+2+a*i]=k,g[4*s+3+a*i]=255}return g},R=D;const q={light:{title:"rgba(255, 255, 255, 0.95)",description:"rgba(255, 255, 255, 0.75)"},white:{title:"rgba(255, 255, 255, 0.95)",description:"rgba(255, 255, 255, 0.75)"},dark:{title:"#111827",description:"#6b7280"},black:{title:"#111827",description:"#6b7280"}},z=t=>(t=t.replace("#",""),t.length===3&&(t=[...t].map(e=>e+e).join("")),t.length===6&&/^[0-9A-Fa-f]{6}$/.test(t)?`#${t}`:null),y=t=>{if(!t)return null;const e=t.toLowerCase().trim();if(e==="transparent")return"transparent";const r=document.createElement("div");return r.style.color=e,r.style.color?e:z(t)},l=(t,e,r)=>{r?t.style.setProperty(e,r):t.style.removeProperty(e)},O=t=>t.startsWith("rgba")?t.replace(/,\s*[\d.]+\)$/,", 0.8)"):t.startsWith("rgb")?t.replace("rgb","rgba").replace(")",", 0.8)"):t,U=t=>{const e=document.querySelector(".hero");if(!e)return;const r=t.get("headerImage");e.style.display=r==="false"||r==="0"?"none":""},_=t=>{const e=document.documentElement,r=document.body,o=t.get("background")==="transparent";r.classList.toggle("embed-transparent",o);const n=o?"transparent":"";e.style.background=n,r.style.background=n;for(const c of document.querySelectorAll(".gallery-section"))c.classList.toggle("gallery-section--transparent",o)},j=t=>{const e=document.documentElement,r=t.get("typographyColor");if(!r){l(e,"--typography-color-title",null),l(e,"--typography-color-description",null);return}const o=r.toLowerCase().trim(),n=q[o];if(n){l(e,"--typography-color-title",n.title),l(e,"--typography-color-description",n.description);return}const c=y(r);c?(l(e,"--typography-color-title",c),l(e,"--typography-color-description",O(c))):(l(e,"--typography-color-title",null),l(e,"--typography-color-description",null))},F=t=>{const e=document.documentElement;l(e,"--section-bg-color",y(t.get("sectionBgColor"))),l(e,"--section-bg-color-even",y(t.get("sectionBgColorEven"))),l(e,"--section-bg-color-odd",y(t.get("sectionBgColorOdd")))},G=t=>{const e=t.get("heroHeight")?.trim(),r=e&&/^\d+(\.\d+)?$/.test(e)?`${e}vh`:null;l(document.documentElement,"--hero-height",r)},W=()=>{const t=new URLSearchParams(globalThis.location.search);U(t),_(t),j(t),F(t),G(t)},Y=document.querySelectorAll("canvas[data-blur-hash]");for(const t of Y){const e=t.dataset.blurHash;if(e){const r=R(e,32,32),o=t.getContext("2d");if(r&&o){const n=new ImageData(new Uint8ClampedArray(r),32,32);o.putImageData(n,0,0)}}}W();
